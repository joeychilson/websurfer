# Default settings applied to all requests unless overridden by site-specific configs
default:
  # Cache configuration
  cache:
    ttl: 1h
    stale_time: 24h
  # Fetch configuration
  fetch:
    user_agent: "websurfer/1.0 (webpage retriever; +https://github.com/joeychilson/websurfer)"
    timeout: 30s
    respect_robots_txt: true
    robots_txt_cache_ttl: 24h
    follow_redirects: true
    enable_ssrf_protection: true
    max_redirects: 10
  # Rate limiting to be respectful to servers
  rate_limit:
    respect_retry_after: true
    requests_per_second: 10.0
    burst: 10
  # Retry configuration for transient failures
  retry:
    max_retries: 3
    initial_delay: 1s
    max_delay: 30s

sites:
  # SEC.gov EDGAR
  # https://www.sec.gov/search-filings/edgar-search-assistance/accessing-edgar-data
  - pattern: "*.sec.gov"
    cache:
      ttl: 24h
      stale_time: 168h
    fetch:
      user_agent: "websurfer/1.0 contact@websurfer.dev"
      timeout: 60s
    rate_limit:
      requests_per_second: 10.0
      burst: 10
      respect_retry_after: true
    retry:
      max_retries: 5
      initial_delay: 2s
      max_delay: 60s

  # Generic documentation sites pattern
  # Matches docs subdomains (docs.example.com) and (example.com/docs/*)
  - pattern: "docs.*"
    cache:
      ttl: 3h
      stale_time: 12h
    fetch:
      check_formats: ["/llms.txt", ".md"]
      timeout: 30s
    rate_limit:
      requests_per_second: 5.0
      burst: 10

  - pattern: "*/docs/*"
    cache:
      ttl: 3h
      stale_time: 12h
    fetch:
      check_formats: ["/llms.txt", ".md"]
      timeout: 30s
    rate_limit:
      requests_per_second: 5.0
      burst: 10
